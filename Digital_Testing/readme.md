# STUMPS 測試電路設計

此專案實現了一個 **STUMPS（Self-Test Using Multiple Parallel Signature Analysis）** 架構，用於測試數位電路。設計包含 **LFSR（線性反饋移位暫存器）**、**CUT（被測電路）** 和 **MISR（多輸入簽名暫存器）** 的整合，並模擬其運作過程。

---

## 目錄
- [簡介](#簡介)
- [設計概述](#設計概述)
  - [LFSR（測試向量生成器）](#lfsr測試向量生成器)
  - [CUT（被測電路）](#cut被測電路)
  - [MISR（響應壓縮器）](#misr響應壓縮器)
- [模擬與驗證](#模擬與驗證)
- [重點觀察](#重點觀察)

---

## 簡介

STUMPS 架構旨在通過 **LFSR** 生成伪隨機測試向量，將其應用於 **CUT（被測電路）**，並使用 **MISR** 壓縮電路的輸出響應生成簽名值。最終生成的簽名值與理論簽名值比對，判斷電路是否存在故障。

---

## 設計概述

### LFSR（測試向量生成器）

1. **元件：**
   - 5 個 D 型觸發器，組成移位寄存器。
   - 1 個 XOR 閘，用於反饋。

2. **反饋多項式：**
   - 使用多項式 \( P(x) = x^5 + x^3 + 1 \) 設計反饋。

3. **連接：**
   - 每個觸發器的 \( Q \) 輸出連接到下一個觸發器的 \( D \) 輸入。
   - 第 5 位（Q5）和第 3 位（Q3）的輸出通過 XOR 閘反饋到第 1 個觸發器的 \( D \) 腳。

4. **初始化：**
   - 使用 Reset 信號將 LFSR 初始化為非零狀態（例如 **00001**）。

5. **輸出：**
   - \( Q1, Q2, Q3, Q4, Q5 \) 分別作為輸出，對應接到 CUT 的輸入端 \( A, B, C, D, K1 \)。

---

### CUT（被測電路）

1. **功能：**
   - CUT 是一個組合邏輯電路，用於接收來自 LFSR 的測試向量並生成輸出。

2. **輸入：**
   - 來自 LFSR 的輸出（\( A, B, C, D, K1 \)）。

3. **輸出：**
   - 單一輸出 \( S \)，表示電路對測試向量的響應。

4. **邏輯設計：**
   - CUT 內部由 AND、OR、NOT、XOR 等邏輯閘構成。

---

### MISR（響應壓縮器）

1. **元件：**
   - 3 個 D 型觸發器，組成移位寄存器。
   - 1 個 XOR 閘，用於反饋。

2. **反饋多項式：**
   - 使用多項式 \( Q(x) = x^3 + x + 1 \) 設計反饋。

3. **連接：**
   - CUT 的輸出 \( S \) 經過 XOR 閘與反饋信號壓縮後，連接到第 1 個觸發器的 \( D \) 腳。
   - 第 3 位（Q3）和第 1 位（Q1）的輸出通過 XOR 閘反饋到第 1 個觸發器的 \( D \) 腳。

4. **時鐘信號：**
   - 所有觸發器共享與 LFSR 相同的時鐘信號，保證同步運行。

5. **輸出：**
   - \( Q1, Q2, Q3 \) 作為壓縮後的簽名值。

---

## 模擬與驗證

1. **初始化：**
   - 使用 Reset 信號設置 LFSR 和 MISR 的初始狀態。
     - LFSR：非零狀態（如 **00001**）。
     - MISR：初始化狀態（如 **000**）。

2. **啟動模擬：**
   - 啟動時鐘信號，讓 LFSR 生成伪隨機測試向量，CUT 處理輸入並生成輸出 \( S \)，MISR 壓縮響應生成簽名。

3. **觀察：**
   - 使用探針（Probe）檢查：
     - LFSR 的輸出是否生成伪隨機序列。
     - CUT 的輸出 \( S \) 是否正確。
     - MISR 的簽名值 \( Q1, Q2, Q3 \) 是否更新。

4. **記錄簽名：**
   - 在模擬結束後，記錄 MISR 的最終輸出簽名值，並與理論值比對，檢測 CUT 是否存在故障。

---

## 重點觀察

- **LFSR：**
  - 5 位設計，反饋多項式 \( P(x) = x^5 + x^3 + 1 \)。
  - 初始化時必須為非零狀態。

- **CUT：**
  - 接受來自 LFSR 的測試向量，生成輸出 \( S \)。

- **MISR：**
  - 3 位設計，反饋多項式 \( Q(x) = x^3 + x + 1 \)。
  - 壓縮 CUT 的輸出，生成簽名值。

---

若有任何問題，請隨時聯繫我！😊
